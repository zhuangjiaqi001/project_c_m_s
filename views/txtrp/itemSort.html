{% extends '../layout/layoutSort.html' %}

{% block body %}

<div class="box">
	<ul class="clearfix">
		<draggable :list="list" :move="get" @update="end" :options="{handle:'.li-txt'}">
			<li v-for="(li, _) in list">
				<div class="li-txt" :d-idx="_" :title="li.title">
					<div class="li-txt-out"><div class="li-txt-ins">{{li.title.length > 20? li.title.substr(0, 20) + '...': li.title}}</div></div>
				</div>
			</li>
		</draggable>
	</ul>

	<div class="text-center">
		<a class="btn" :href="'/txtrp/list?rpId=' + rpId">返回</a>
		<a class="btn btn-info" @click="submit">保存</a>
	</div>
</div>


{% endblock %}

{% block css %}
<style>
.box {
	padding: 10px;
}
ul {
	display: block;
	width: 100%;
}
ul li {
	float: left;
	display: block;
	padding: 10px;
	overflow: hidden;
}
.li-txt {
	position: relative;
	width:  100px;
	height: 100px;
	padding: 5px;
	border-radius: 8px;
	border: 1px solid #ccc;
	overflow: hidden;
	cursor: default
}
.li-txt-out {
	display: table;
	width:  100%;
	height: 100%;
}
.li-txt-ins {
	display: table-cell;
	width:  100%;
	vertical-align: middle;
	text-align: center;
	word-break:break-all;
}
.li-txt:before {
	content: attr(d-idx);
	position: absolute;
	top: 0;
	left: 0;
	display: block;
	padding: 0 5px;
	background: rgba(0, 0, 0, .4);
	color: #fff
}
</style>
{% endblock %}

{% block js %}
<script src="/js/txtrp/itemSort.js"></script>
{% endblock %}