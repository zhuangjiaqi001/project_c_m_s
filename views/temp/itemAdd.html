{% extends '../layout/layout.html' %}

{% block body %}

<div class="box">
	<div class="box-header">
		<h3 class="box-title"></h3>
	</div>
	<div class="box-body">

		<div class="col-md-8 col-md-offset-2">
			<i-form ref="formValidate" :model="formValidate" :rules="ruleValidate" :label-width="120">
				<Form-item label="模板类KEY">
					<span>{{temp.key}}</span>
				</Form-item>
				<Form-item label="模板类名称">
					<span>{{temp.name}}</span>
				</Form-item>
				<Form-item label="KEY" prop="key">
					<span v-if="pageinfo.isEdit">{{formValidate.key}}</span>
					<i-input v-if="!pageinfo.isEdit" v-model="formValidate.key" type="text" placeholder="模板类KEY (唯一)" :maxlength="100"></i-input>
				</Form-item>
				<Form-item label="标题" prop="title">
					<i-input v-model="formValidate.title" type="text" placeholder="(不超过30个字)" :maxlength="30"></i-input>
				</Form-item>
				<Form-item label="CSS">
					<!-- <div id="edit_css"></div> -->
					<i-input v-model="formValidate.css" type="textarea" :rows="6" placeholder="(不超过10000个字)" :maxlength="10000"></i-input>
				</Form-item>
				<Form-item label="HTML">
					<!-- <div id="edit_html"></div> -->
					<i-input v-model="formValidate.html" type="textarea" :rows="6" placeholder="(不超过10000个字)" :maxlength="10000"></i-input>
				</Form-item>
				<Form-item label="JS">
					<i-input v-model="formValidate.js" type="textarea" :rows="6" placeholder="(不超过10000个字)" :maxlength="10000"></i-input>
					<!-- <div id="edit_js"></div> -->
				</Form-item>

				<Form-item
					v-for="(item, index) in formValidate.custemItems"
					:label="'工具库' + (index + 1)">
					<Row>
						<i-col span="5">
							<i-select v-model="item.name">
								<i-option v-for="item in loadLib" :value="item.val">{{item.name}}</i-option>
							</i-select>
						</i-col>
						<i-col span="4" offset="1">
							<i-button type="ghost" @click="handleRemove(index)">删除</i-button>
						</i-col>
					</Row>
				</Form-item>
				<Form-item>
					<Row>
						<i-col span="12">
							<i-button type="dashed" long @click="handleAdd" icon="plus-round">新增 类库或框架</i-button>
						</i-col>
					</Row>
				</Form-item>

				<Form-item>
					<i-button type="primary" @click="handleSubmit('formValidate')">提交</i-button>
					<i-button type="ghost" style="margin-left: 8px" @click="handleReset('formValidate')">重置</i-button>
				</Form-item>
			</i-form>
		</div>

	</div>
</div>


{% endblock %}

{% block css %}
{% endblock %}

{% block js %}
<script src="/js/temp/itemAdd.js"></script>
{% endblock %}